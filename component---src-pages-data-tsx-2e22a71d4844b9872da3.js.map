{"version":3,"file":"component---src-pages-data-tsx-2e22a71d4844b9872da3.js","mappings":"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","sources":["webpack://sshihci.github.io/./src/components/DataSection/DataSectionNavigation.tsx","webpack://sshihci.github.io/./src/pages/data.tsx"],"sourcesContent":["import clsx from 'clsx'\nimport { forwardRef } from 'react'\nimport {\n  DataSectionNavigationAllConfigFragment,\n  DataSectionNavigationCurrentConfigFragment,\n} from '~graphql-types'\nimport { Button } from '../Common/atoms/Button'\nimport { Link } from '../Common/atoms/Link'\n\nconst graphql = String.raw\n\nexport const DataSectionNavigationFragment = graphql`\n  fragment DataSectionNavigationCurrentConfig on ConfigYaml {\n    year\n  }\n  fragment DataSectionNavigationAllConfig on ConfigYaml {\n    year\n    id\n  }\n`\n\ntype DataSectionNavigationProps = JSX.IntrinsicElements['ul'] & {\n  currentConfig: DataSectionNavigationCurrentConfigFragment | undefined\n  allConfig: DataSectionNavigationAllConfigFragment[] | undefined\n}\n\nexport const DataSectionNavigation = forwardRef<\n  HTMLUListElement,\n  DataSectionNavigationProps\n>(({ className, currentConfig, allConfig, ...props }, ref) => {\n  return (\n    <ul className={clsx('flex flex-col gap-1', className)} ref={ref} {...props}>\n      {allConfig?.map((node) => {\n        if (node.year === currentConfig?.year) {\n          return (\n            <li key={node.id}>\n              <Button className=\"block w-full text-cyan-800\" disabled isActive>\n                {`${node.year}年度`}\n              </Button>\n            </li>\n          )\n        }\n        return (\n          <li key={node.id}>\n            <Link className=\"block text-cyan-800\" to={`/data/${node.year}`}>\n              {`${node.year}年度`}\n            </Link>\n          </li>\n        )\n      })}\n    </ul>\n  )\n})\n","import { graphql, PageProps } from 'gatsby'\nimport { HexagonMap } from '~/components/Common/molecules/HexagonMap'\nimport { Layout } from '~/components/Common/templates/Layout'\nimport { Seo } from '~/components/Common/templates/seo'\nimport ContactForm from '~/components/ContactForm'\nimport { DataSectionBlock } from '~/components/DataSection/DataSectionBlock'\nimport { DataSectionNavigation } from '~/components/DataSection/DataSectionNavigation'\nimport Section from '~/components/Section'\nimport { isNotNullable } from '~/lib/is-not-nullable'\nimport { DataPageQuery } from '~graphql-types'\n\nexport const query = graphql`\n  fragment Data on ConfigYaml {\n    id\n    year\n    files {\n      name\n      date\n      pdf {\n        relativePath\n      }\n      excel {\n        relativePath\n      }\n    }\n  }\n  query DataPage {\n    allConfigYaml(sort: { fields: year, order: DESC }) {\n      nodes {\n        id\n        year\n      }\n    }\n    configYaml {\n      ...Data\n    }\n    site {\n      siteMetadata {\n        contact {\n          googleFormId\n          fields {\n            name\n            belongs\n            contactAddress\n            body\n          }\n        }\n      }\n    }\n  }\n`\n\nconst DataPage = ({ data }: PageProps<DataPageQuery>): JSX.Element => {\n  return (\n    <Layout>\n      <Seo\n        canonical={`/data/${data.configYaml?.year}`}\n        title={`${data.configYaml?.year}年度の資料`}\n      />\n\n      <Section>\n        <Section.Title>{`${data.configYaml?.year}年度の資料`}</Section.Title>\n\n        <Section.Body>\n          <div className=\"flex flex-col md:flex-row gap-12\">\n            <div className=\"max-w-sm md:max-w-xs\">\n              <DataSectionNavigation\n                allConfig={data.allConfigYaml.nodes}\n                currentConfig={data.configYaml}\n              />\n            </div>\n\n            <div className=\"flex-1\">\n              <div className=\"flex flex-col gap-8 mb-4 max-w-lg\">\n                {data.configYaml?.files?.filter(isNotNullable).map((file) => (\n                  <DataSectionBlock file={file} key={file.name} />\n                ))}\n              </div>\n            </div>\n          </div>\n        </Section.Body>\n      </Section>\n\n      <Section className=\"z-0\" id=\"お問い合わせ\">\n        <HexagonMap className=\"absolute right-7 bottom-24 -z-10\" />\n\n        <Section.Title>お問い合わせ</Section.Title>\n\n        <Section.Body>\n          <ContactForm\n            action={`https://docs.google.com/forms/u/0/d/e/${data.site?.siteMetadata?.contact?.googleFormId}/formResponse`}\n          >\n            <div className=\"flex flex-col lg:flex-row gap-3 lg:gap-8 mb-8\">\n              <div className=\"flex flex-col flex-1 gap-3\">\n                <ContactForm.Field>\n                  <ContactForm.Field.Label>名前</ContactForm.Field.Label>\n\n                  <ContactForm.Field.Input\n                    name={data.site?.siteMetadata?.contact?.fields?.name}\n                    placeholder=\"山田 太郎\"\n                    required\n                  />\n                </ContactForm.Field>\n\n                <ContactForm.Field>\n                  <ContactForm.Field.Label>所属</ContactForm.Field.Label>\n\n                  <ContactForm.Field.Input\n                    name={data.site?.siteMetadata?.contact?.fields?.belongs}\n                    placeholder=\"横浜市立大学 ヘルスデータサイエンス学科\"\n                  />\n                </ContactForm.Field>\n\n                <ContactForm.Field>\n                  <ContactForm.Field.Label>連絡先</ContactForm.Field.Label>\n\n                  <ContactForm.Field.Input\n                    name={\n                      data.site?.siteMetadata?.contact?.fields?.contactAddress\n                    }\n                    placeholder=\"email@example.com 又は 090-1234-5678\"\n                  />\n                </ContactForm.Field>\n              </div>\n\n              <div className=\"flex-1\">\n                <ContactForm.Field className=\"h-full\">\n                  <ContactForm.Field.Label className=\"lg:sr-only\">\n                    お問い合わせ内容\n                  </ContactForm.Field.Label>\n\n                  <ContactForm.Field.Textarea\n                    name={data.site?.siteMetadata?.contact?.fields?.body}\n                    placeholder=\"詳しい内容をお書きください\"\n                    required\n                    rows={4}\n                  />\n                </ContactForm.Field>\n              </div>\n            </div>\n\n            <ContactForm.Button className=\"block mx-auto\">\n              送信する\n            </ContactForm.Button>\n          </ContactForm>\n        </Section.Body>\n      </Section>\n    </Layout>\n  )\n}\n\nexport default DataPage\n"],"names":["DataSectionNavigation","graphql","String","raw","forwardRef","ref","className","currentConfig","allConfig","props","clsx","map","node","year","disabled","isActive","id","to","data","canonical","configYaml","title","allConfigYaml","nodes","files","filter","isNotNullable","file","name","action","site","siteMetadata","contact","googleFormId","fields","placeholder","required","belongs","contactAddress","body","rows"],"sourceRoot":""}