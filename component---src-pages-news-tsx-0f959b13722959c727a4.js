"use strict";(self.webpackChunksshihci_github_io=self.webpackChunksshihci_github_io||[]).push([[114],{7417:function(e,t,n){n.r(t),n.d(t,{default:function(){return O}});var r=n(2274),i=n(5505),a=n(4345),u=n(9900),o=n(257),c=n(8614),l=n(296);var s=n(5749),f=n(1751),d=0;function m(){var e=d;return d++,e}var v=function(e){var t=e.children,n=e.initial,r=e.isPresent,i=e.onExitComplete,a=e.custom,c=e.presenceAffectsLayout,l=(0,f.h)(h),d=(0,f.h)(m),v=(0,o.useMemo)((function(){return{id:d,initial:n,isPresent:r,custom:a,onExitComplete:function(e){var t,n;l.set(e,!0);try{for(var r=(0,u.XA)(l.values()),a=r.next();!a.done;a=r.next()){if(!a.value)return}}catch(o){t={error:o}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}null==i||i()},register:function(e){return l.set(e,!1),function(){return l.delete(e)}}}}),c?void 0:[r]);return(0,o.useMemo)((function(){l.forEach((function(e,t){return l.set(t,!1)}))}),[r]),o.useEffect((function(){!r&&!l.size&&(null==i||i())}),[r]),o.createElement(s.O.Provider,{value:v},t)};function h(){return new Map}var g=n(8522);function p(e){return e.key||""}var P=function(e){var t=e.children,n=e.custom,r=e.initial,i=void 0===r||r,a=e.onExitComplete,s=e.exitBeforeEnter,f=e.presenceAffectsLayout,d=void 0===f||f,m=(0,u.CR)(function(){var e=(0,o.useRef)(!1),t=(0,u.CR)((0,o.useState)(0),2),n=t[0],r=t[1];(0,l.z)((function(){return e.current=!0}));var i=(0,o.useCallback)((function(){!e.current&&r(n+1)}),[n]);return[(0,o.useCallback)((function(){return c.ZP.postRender(i)}),[i]),n]}(),1),h=m[0],P=(0,o.useContext)(g.p).forceRender;P&&(h=P);var x=(0,o.useRef)(!0),C=(0,o.useRef)(!0);(0,o.useEffect)((function(){return function(){C.current=!1}}),[]);var Z=function(e){var t=[];return o.Children.forEach(e,(function(e){(0,o.isValidElement)(e)&&t.push(e)})),t}(t),k=(0,o.useRef)(Z),y=(0,o.useRef)(new Map).current,b=(0,o.useRef)(new Set).current;if(function(e,t){e.forEach((function(e){var n=p(e);t.set(n,e)}))}(Z,y),x.current)return x.current=!1,o.createElement(o.Fragment,null,Z.map((function(e){return o.createElement(v,{key:p(e),isPresent:!0,initial:!!i&&void 0,presenceAffectsLayout:d},e)})));for(var N=(0,u.ev)([],(0,u.CR)(Z),!1),E=k.current.map(p),T=Z.map(p),w=E.length,M=0;M<w;M++){var R=E[M];-1===T.indexOf(R)?b.add(R):b.delete(R)}return s&&b.size&&(N=[]),b.forEach((function(e){if(-1===T.indexOf(e)){var t=y.get(e);if(t){var r=E.indexOf(e);N.splice(r,0,o.createElement(v,{key:p(t),isPresent:!1,onExitComplete:function(){y.delete(e),b.delete(e);var t=k.current.findIndex((function(t){return t.key===e}));if(k.current.splice(t,1),!b.size){if(k.current=Z,!1===C.current)return;h(),a&&a()}},custom:n,presenceAffectsLayout:d},t))}}})),N=N.map((function(e){var t=e.key;return b.has(t)?e:o.createElement(v,{key:p(e),isPresent:!0,presenceAffectsLayout:d},e)})),k.current=N,o.createElement(o.Fragment,null,b.size?N:N.map((function(e){return(0,o.cloneElement)(e)})))},x=function(e){var t=e.perPage,n=e.items,r=e.initial,i=function(e){void 0===e&&(e=0);var t=(0,o.useState)(e),n=t[0],r=t[1],i=(0,o.useCallback)((function(e){return r((function(t){return t+e}))}),[]),a=(0,o.useCallback)((function(){return i(1)}),[i]),u=(0,o.useCallback)((function(e){return r((function(t){return t-e}))}),[]);return[n,{decrement:(0,o.useCallback)((function(){return u(1)}),[u]),decrementN:u,increment:a,incrementN:i,setValue:r}]}(void 0===r?1:r),a=i[0],u=i[1],c=u.increment,l=u.decrement,s=u.setValue,f=(0,o.useMemo)((function(){return Math.ceil(n.length/t)}),[t,n.length]),d=(0,o.useMemo)((function(){return a<f?a+1:null}),[a,f]),m=(0,o.useMemo)((function(){return null!==d}),[d]),v=(0,o.useMemo)((function(){return a>1?a-1:null}),[a]),h=(0,o.useMemo)((function(){return null!==v}),[v]),g=(0,o.useMemo)((function(){var e=(a-1)*t,r=a*t;return n.slice(e,r)}),[a,n,t]),p=(0,o.useCallback)((function(){d&&c()}),[c,d]),P=(0,o.useCallback)((function(){v&&l()}),[l,v]),x=(0,o.useCallback)((function(e){e>0&&e<=f&&s(e)}),[s,f]);return{currentItems:g,currentPage:a,goTo:x,goToNextPage:p,goToPrevPage:P,hasNextPage:m,hasPrevPage:h,nextPage:d,prevPage:v,totalPage:f}},C=n(2297),Z=n(1279),k=n(2982),y=n(5538),b=n(5531),N=n(1312),E=function(e){var t=e.onClick,n=e.isCurrent,r=e.page,i=(0,b.k)(),u=i[0],c=i[1],l=c.setTrue,s=c.setFalse,f=(0,o.useMemo)((function(){return n?y.knk:y.O6Y}),[n]);return(0,N.tZ)("div",{className:"flex flex-row justify-center",children:(0,N.BX)("button",{className:"relative w-4 h-4",onClick:t,onMouseEnter:l,onMouseLeave:s,onTouchEnd:s,onTouchStart:l,type:"button",children:[(0,N.tZ)(a.m.div,{animate:{scale:u?.1:1},children:(0,N.tZ)(f,{size:12})}),(0,N.tZ)(a.m.div,{animate:{scale:u?1:0},className:"absolute -top-2",children:(0,N.tZ)("span",{children:r})})]})})},T=function(e){var t,n,r=e.goToNextPage,a=e.goToPrevPage,u=e.hasNextPage,c=e.hasPrevPage,l=e.totalPage,s=e.className,f=e.currentPage,d=e.goTo,m=(0,o.useCallback)((function(e){return function(){return d(e)}}),[d]);return(0,N.BX)("div",{className:(0,i.Z)("flex flex-row gap-2 items-center",s),children:[(0,N.tZ)("div",{className:"flex flex-row justify-center",children:(0,N.tZ)("button",{disabled:!c,onClick:a,type:"button",children:(0,N.tZ)(Z.CF5,{size:24})})}),(0,N.tZ)("div",{className:"flex flex-row gap-2 items-center",children:(t=1,n=l+1,(0,k.Z)(Array(n-t)).map((function(e,n){return t+n}))).map((function(e){return(0,N.tZ)(E,{isCurrent:f===e,onClick:m(e),page:e},e)}))}),(0,N.tZ)("div",{className:"flex flex-row justify-center",children:(0,N.tZ)("button",{disabled:!u,onClick:r,type:"button",children:(0,N.tZ)(Z.Td4,{size:24})})})]})},w=function(e){var t,n=e.children,r=e.index,i=(0,o.useRef)(null),u=(0,C.K)(i);return(0,N.tZ)(a.m.div,{animate:{opacity:1,x:0},exit:{opacity:0,position:"absolute",top:(null!==(t=null==u?void 0:u.height)&&void 0!==t?t:0)*r,width:"100%",x:-300},initial:{opacity:0,x:300},ref:i,role:"listitem",transition:{duration:.3},children:n})},M=function(e){var t=e.items,n=e.perPage,r=e.renderItem,a=e.commonProps,u=e.keyExtractor,o=e.listClassName,c=e.className,l=x({items:t,perPage:n}),s=l.currentPage,f=l.totalPage,d=l.currentItems,m=l.goToPrevPage,v=l.goToNextPage,h=l.hasNextPage,g=l.hasPrevPage,p=l.goTo;return(0,N.BX)("div",{className:(0,i.Z)("",c),children:[(0,N.tZ)("div",{className:(0,i.Z)("flex relative flex-col",o),role:"list",children:(0,N.tZ)(P,{children:d.map((function(e,t){return(0,N.tZ)(w,{index:t,children:r({commonProps:a,index:t,item:e})},u(e))}))})}),(0,N.tZ)(T,{className:"mx-auto max-w-max",currentPage:s,goTo:p,goToNextPage:v,goToPrevPage:m,hasNextPage:h,hasPrevPage:g,totalPage:f})]})},R=n(9162),z=n(111),A=n(8403),B=function(e){return e.id},L=function(e){var t=e.item;return(0,N.tZ)(r.n,Object.assign({},t))},O=function(e){var t,n,r,i=e.data;return(0,N.BX)(R.A,{children:[(0,N.tZ)(z.p,{title:"お知らせ一覧"}),(0,N.BX)(A.Z,{children:[(0,N.tZ)(A.Z.Title,{children:"お知らせ一覧"}),(0,N.tZ)(A.Z.Body,{children:(0,N.tZ)(M,{className:"mx-auto max-w-4xl",commonProps:{},items:i.allFile.nodes,keyExtractor:B,listClassName:"mb-4",perPage:null!==(t=null===(n=i.site)||void 0===n||null===(r=n.siteMetadata)||void 0===r?void 0:r.newsPerPage)&&void 0!==t?t:5,renderItem:L})})]})]})}}}]);
//# sourceMappingURL=component---src-pages-news-tsx-0f959b13722959c727a4.js.map