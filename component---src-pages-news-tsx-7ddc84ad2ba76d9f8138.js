"use strict";(self.webpackChunksshihci_github_io=self.webpackChunksshihci_github_io||[]).push([[114],{7417:function(e,n,t){t.r(n),t.d(n,{default:function(){return F}});var r=t(8037),i=t(5505),a=t(8192),u=t(9900),o=t(7294),s=t(8614),c=t(296);var l=t(5749),f=t(1751),d=0;function m(){var e=d;return d++,e}var x=function(e){var n=e.children,t=e.initial,r=e.isPresent,i=e.onExitComplete,a=e.custom,s=e.presenceAffectsLayout,c=(0,f.h)(v),d=(0,f.h)(m),x=(0,o.useMemo)((function(){return{id:d,initial:t,isPresent:r,custom:a,onExitComplete:function(e){var n,t;c.set(e,!0);try{for(var r=(0,u.XA)(c.values()),a=r.next();!a.done;a=r.next()){if(!a.value)return}}catch(o){n={error:o}}finally{try{a&&!a.done&&(t=r.return)&&t.call(r)}finally{if(n)throw n.error}}null==i||i()},register:function(e){return c.set(e,!1),function(){return c.delete(e)}}}}),s?void 0:[r]);return(0,o.useMemo)((function(){c.forEach((function(e,n){return c.set(n,!1)}))}),[r]),o.useEffect((function(){!r&&!c.size&&(null==i||i())}),[r]),o.createElement(l.O.Provider,{value:x},n)};function v(){return new Map}var h=t(8522);function g(e){return e.key||""}var p=function(e){var n=e.children,t=e.custom,r=e.initial,i=void 0===r||r,a=e.onExitComplete,l=e.exitBeforeEnter,f=e.presenceAffectsLayout,d=void 0===f||f,m=(0,u.CR)(function(){var e=(0,o.useRef)(!1),n=(0,u.CR)((0,o.useState)(0),2),t=n[0],r=n[1];(0,c.z)((function(){return e.current=!0}));var i=(0,o.useCallback)((function(){!e.current&&r(t+1)}),[t]);return[(0,o.useCallback)((function(){return s.ZP.postRender(i)}),[i]),t]}(),1),v=m[0],p=(0,o.useContext)(h.p).forceRender;p&&(v=p);var P=(0,o.useRef)(!0),k=(0,o.useRef)(!0);(0,o.useEffect)((function(){return function(){k.current=!1}}),[]);var j=function(e){var n=[];return o.Children.forEach(e,(function(e){(0,o.isValidElement)(e)&&n.push(e)})),n}(n),y=(0,o.useRef)(j),C=(0,o.useRef)(new Map).current,b=(0,o.useRef)(new Set).current;if(function(e,n){e.forEach((function(e){var t=g(e);n.set(t,e)}))}(j,C),P.current)return P.current=!1,o.createElement(o.Fragment,null,j.map((function(e){return o.createElement(x,{key:g(e),isPresent:!0,initial:!!i&&void 0,presenceAffectsLayout:d},e)})));for(var N=(0,u.ev)([],(0,u.CR)(j),!1),E=y.current.map(g),w=j.map(g),M=E.length,T=0;T<M;T++){var R=E[T];-1===w.indexOf(R)?b.add(R):b.delete(R)}return l&&b.size&&(N=[]),b.forEach((function(e){if(-1===w.indexOf(e)){var n=C.get(e);if(n){var r=E.indexOf(e);N.splice(r,0,o.createElement(x,{key:g(n),isPresent:!1,onExitComplete:function(){C.delete(e),b.delete(e);var n=y.current.findIndex((function(n){return n.key===e}));if(y.current.splice(n,1),!b.size){if(y.current=j,!1===k.current)return;v(),a&&a()}},custom:t,presenceAffectsLayout:d},n))}}})),N=N.map((function(e){var n=e.key;return b.has(n)?e:o.createElement(x,{key:g(e),isPresent:!0,presenceAffectsLayout:d},e)})),y.current=N,o.createElement(o.Fragment,null,b.size?N:N.map((function(e){return(0,o.cloneElement)(e)})))},P=function(e){var n=e.perPage,t=e.items,r=e.initial,i=function(e){void 0===e&&(e=0);var n=(0,o.useState)(e),t=n[0],r=n[1],i=(0,o.useCallback)((function(e){return r((function(n){return n+e}))}),[]),a=(0,o.useCallback)((function(){return i(1)}),[i]),u=(0,o.useCallback)((function(e){return r((function(n){return n-e}))}),[]);return[t,{decrement:(0,o.useCallback)((function(){return u(1)}),[u]),decrementN:u,increment:a,incrementN:i,setValue:r}]}(void 0===r?1:r),a=i[0],u=i[1],s=u.increment,c=u.decrement,l=u.setValue,f=(0,o.useMemo)((function(){return Math.ceil(t.length/n)}),[n,t.length]),d=(0,o.useMemo)((function(){return a<f?a+1:null}),[a,f]),m=(0,o.useMemo)((function(){return null!==d}),[d]),x=(0,o.useMemo)((function(){return a>1?a-1:null}),[a]),v=(0,o.useMemo)((function(){return null!==x}),[x]),h=(0,o.useMemo)((function(){var e=(a-1)*n,r=a*n;return t.slice(e,r)}),[a,t,n]),g=(0,o.useCallback)((function(){d&&s()}),[s,d]),p=(0,o.useCallback)((function(){x&&c()}),[c,x]),P=(0,o.useCallback)((function(e){e>0&&e<=f&&l(e)}),[l,f]);return{currentItems:h,currentPage:a,goTo:P,goToNextPage:g,goToPrevPage:p,hasNextPage:m,hasPrevPage:v,nextPage:d,prevPage:x,totalPage:f}},k=t(2297),j=t(1279),y=t(2982),C=t(5538),b=t(5531),N=t(5893),E=function(e){var n=e.onClick,t=e.isCurrent,r=e.page,i=(0,b.k)(),u=i[0],s=i[1],c=s.setTrue,l=s.setFalse,f=(0,o.useMemo)((function(){return t?C.knk:C.O6Y}),[t]);return(0,N.jsx)("div",{className:"flex flex-row justify-center",children:(0,N.jsxs)("button",{className:"relative w-4 h-4",onClick:n,onMouseEnter:c,onMouseLeave:l,onTouchEnd:l,onTouchStart:c,type:"button",children:[(0,N.jsx)(a.E.div,{animate:{scale:u?.1:1},children:(0,N.jsx)(f,{size:12})}),(0,N.jsx)(a.E.div,{animate:{scale:u?1:0},className:"absolute -top-2",children:(0,N.jsx)("span",{children:r})})]})})},w=function(e){var n,t,r=e.goToNextPage,a=e.goToPrevPage,u=e.hasNextPage,s=e.hasPrevPage,c=e.totalPage,l=e.className,f=e.currentPage,d=e.goTo,m=(0,o.useCallback)((function(e){return function(){return d(e)}}),[d]);return(0,N.jsxs)("div",{className:(0,i.Z)("flex flex-row gap-2 items-center",l),children:[(0,N.jsx)("div",{className:"flex flex-row justify-center",children:(0,N.jsx)("button",{disabled:!s,onClick:a,type:"button",children:(0,N.jsx)(j.CF5,{size:24})})}),(0,N.jsx)("div",{className:"flex flex-row gap-2 items-center",children:(n=1,t=c+1,(0,y.Z)(Array(t-n)).map((function(e,t){return n+t}))).map((function(e){return(0,N.jsx)(E,{isCurrent:f===e,onClick:m(e),page:e},e)}))}),(0,N.jsx)("div",{className:"flex flex-row justify-center",children:(0,N.jsx)("button",{disabled:!u,onClick:r,type:"button",children:(0,N.jsx)(j.Td4,{size:24})})})]})},M=function(e){var n,t=e.children,r=e.index,i=(0,o.useRef)(null),u=(0,k.K)(i);return(0,N.jsx)(a.E.div,{animate:{opacity:1,x:0},exit:{opacity:0,position:"absolute",top:(null!==(n=null==u?void 0:u.height)&&void 0!==n?n:0)*r,width:"100%",x:-300},initial:{opacity:0,x:300},ref:i,role:"listitem",transition:{duration:.3},children:t})},T=function(e){var n=e.items,t=e.perPage,r=e.renderItem,a=e.commonProps,u=e.keyExtractor,o=e.listClassName,s=e.className,c=P({items:n,perPage:t}),l=c.currentPage,f=c.totalPage,d=c.currentItems,m=c.goToPrevPage,x=c.goToNextPage,v=c.hasNextPage,h=c.hasPrevPage,g=c.goTo;return(0,N.jsxs)("div",{className:(0,i.Z)("",s),children:[(0,N.jsx)("div",{className:(0,i.Z)("flex relative flex-col",o),role:"list",children:(0,N.jsx)(p,{children:d.map((function(e,n){return(0,N.jsx)(M,{index:n,children:r({commonProps:a,index:n,item:e})},u(e))}))})}),(0,N.jsx)(w,{className:"mx-auto max-w-max",currentPage:l,goTo:g,goToNextPage:x,goToPrevPage:m,hasNextPage:v,hasPrevPage:h,totalPage:f})]})},R=t(9162),Z=t(111),z=t(8403),A=function(e){return e.id},L=function(e){var n,t,i,a,u,o=e.item;return(0,N.jsxs)(r.ZP,{className:"flex flex-row items-end mb-4 border-b border-cyan-600 hover:bg-cyan-50",to:"/news/"+o.id,children:[(0,N.jsxs)("div",{className:"flex flex-col-reverse flex-shrink-0",children:[(0,N.jsx)("p",{className:"py-2 px-6 group-hover:text-gray-700",children:null===(n=o.childMarkdownRemark)||void 0===n||null===(t=n.frontmatter)||void 0===t?void 0:t.title}),(0,N.jsx)("p",{className:"font-light text-cyan-600 group-hover:text-cyan-700",children:null===(i=o.childMarkdownRemark)||void 0===i||null===(a=i.frontmatter)||void 0===a?void 0:a.date})]}),(0,N.jsx)("p",{className:"py-1 px-3 text-sm",children:null===(u=o.childMarkdownRemark)||void 0===u?void 0:u.excerpt})]})},F=function(e){var n,t,r,i=e.data;return(0,N.jsxs)(R.A,{children:[(0,N.jsx)(Z.p,{title:"お知らせ一覧"}),(0,N.jsxs)(z.Z,{children:[(0,N.jsx)(z.Z.Title,{children:"お知らせ一覧"}),(0,N.jsx)(z.Z.Body,{children:(0,N.jsx)(T,{className:"mx-auto max-w-4xl",commonProps:{},items:i.allFile.nodes,keyExtractor:A,listClassName:"mb-4",perPage:null!==(n=null===(t=i.site)||void 0===t||null===(r=t.siteMetadata)||void 0===r?void 0:r.newsPerPage)&&void 0!==n?n:5,renderItem:L})})]})]})}}}]);
//# sourceMappingURL=component---src-pages-news-tsx-7ddc84ad2ba76d9f8138.js.map